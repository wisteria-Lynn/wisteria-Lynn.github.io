(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{595:function(e,t,l){"use strict";l.r(t);var a=l(868),o=l(645);for(var n in o)"default"!==n&&function(e){l.d(t,e,function(){return o[e]})}(n);l(816);var r=l(74),s=Object(r.a)(o.default,a.a,a.b,!1,null,"bb335b6e",null);s.options.__file="src/pages/addfile.vue",t.default=s.exports},645:function(e,t,l){"use strict";l.r(t);var a=l(646),o=l.n(a);for(var n in a)"default"!==n&&function(e){l.d(t,e,function(){return a[e]})}(n);t.default=o.a},646:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(624);var o="D:\\Lynn\\myproject\\wisteria-Lynn.github.io\\src\\novel\\novel-";t.default={name:"addNovel",data:function(){return{goodImages:[],filename:"",createPathOpt:[{value:o,label:o}],createPath:o,selectValue:"",localPath:"C:\\Users\\F1333103\\Desktop\\新建文件夹\\",book:{author:"流莹离",type:"古代言情",free:"免费",class:"已完结",wordNum:"90",rate:3,des:""},typeList:[{value:"古代言情",label:"古代言情"},{value:"现代言情",label:"现代言情"}],classList:[{value:"连载中",label:"连载中"},{value:"已完结",label:"已完结"}],options:[],novelList:[],addType:"0",addTypeOpt:[{value:"0",label:"小说"}]}},created:function(){this.novelList=l(629).novelList;for(var e=0;e<this.novelList.length;e++)this.options.push({label:String(this.novelList[e].id)+this.novelList[e].title,value:this.novelList[e].id})},methods:{goodImgUploadFile:function(e){var t=this;this.filename=e.file.name,"0"===this.addType&&(0,a.getReadFile)({path:this.localPath+this.filename,createPath:JSON.stringify(this.createPath),book:{id:this.selectValue,title:this.filename.split(".")[0],author:this.book.author,type:this.book.type,free:this.book.free,class:this.book.class,wordNum:this.book.wordNum,rate:this.book.rate,des:this.book.des}}).then(function(e){t.novelList=l(629).novelList,console.log(e)})},changeUpload:function(e){console.log(e)},beforeImgUpload:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,l){return function a(o,n){try{var r=t[o](n),s=r.value}catch(e){return void l(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})});return function(e){return t.apply(this,arguments)}}(),submit:function(){return this.addType?this.selectValue?void this.$refs.goodImgUpload.submit():(this.layer.msg("选择文章标签"),!1):(this.layer.msg("选择类型"),!1)}}}},647:function(e,t,l){},816:function(e,t,l){"use strict";var a=l(647);l.n(a).a},868:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"addNovel"},[l("v-head-back-2",{attrs:{url:"/novel"}}),e._v(" "),l("div",{staticClass:"all-wrap"},[l("div",{staticClass:"tc",staticStyle:{margin:"40px 0"}},[l("el-upload",{ref:"goodImgUpload",staticClass:"upload-demo",attrs:{action:"","file-list":e.goodImages,"auto-upload":!1,"http-request":e.goodImgUploadFile,"before-upload":e.beforeImgUpload,"on-change":e.changeUpload}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),l("div",[l("label",[e._v("选择添加类型")]),e._v(" "),l("br"),e._v(" "),l("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"选择添加类型"},model:{value:e.addType,callback:function(t){e.addType=t},expression:"addType"}},e._l(e.addTypeOpt,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",[l("label",[e._v("本地地址")]),e._v(" "),l("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.localPath,callback:function(t){e.localPath=t},expression:"localPath"}})],1),e._v(" "),l("div",[l("label",[e._v("创建项目js地址")]),e._v(" "),l("br"),e._v(" "),l("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"创建项目js地址"},model:{value:e.createPath,callback:function(t){e.createPath=t},expression:"createPath"}},e._l(e.createPathOpt,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"创建项目js后缀数字"},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",[l("label",[e._v("作者")]),e._v(" "),l("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.book.author,callback:function(t){e.$set(e.book,"author",t)},expression:"book.author"}})],1),e._v(" "),l("div",[l("label",[e._v("字数(万字)")]),e._v(" "),l("el-input",{attrs:{type:"number",placeholder:"字数"},model:{value:e.book.wordNum,callback:function(t){e.$set(e.book,"wordNum",t)},expression:"book.wordNum"}})],1),e._v(" "),l("div",[l("label",[e._v("评分（1-5）")]),e._v(" "),l("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"评分"},model:{value:e.book.rate,callback:function(t){e.$set(e.book,"rate",t)},expression:"book.rate"}},e._l(5,function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),l("div",[l("label",[e._v("是否免费")]),e._v(" "),l("el-input",{attrs:{readonly:"",placeholder:"请输入内容"},model:{value:e.book.free,callback:function(t){e.$set(e.book,"free",t)},expression:"book.free"}})],1),e._v(" "),l("div",[l("label",[e._v("文章类型")]),e._v(" "),l("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"文章类型"},model:{value:e.book.type,callback:function(t){e.$set(e.book,"type",t)},expression:"book.type"}},e._l(e.typeList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",[l("label",[e._v("文章状态")]),e._v(" "),l("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"文章类型"},model:{value:e.book.class,callback:function(t){e.$set(e.book,"class",t)},expression:"book.class"}},e._l(e.classList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",[l("label",[e._v("简介")]),e._v(" "),l("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.book.des,callback:function(t){e.$set(e.book,"des",t)},expression:"book.des"}})],1),e._v(" "),l("el-button",{staticClass:"btn btn-success",on:{click:e.submit}},[e._v(" 添加 ")])],1)],1)},o=[];a._withStripped=!0,l.d(t,"a",function(){return a}),l.d(t,"b",function(){return o})}}]);
//# sourceMappingURL=24.78471b62cf7cb24ce307.js.map