(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{615:function(t,e,s){"use strict";s.r(e);var a=s(888),i=s(712);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s(843);var r=s(74),c=Object(r.a)(i.default,a.a,a.b,!1,null,"282675fc",null);c.options.__file="src/pages/wechat/chatPage.vue",e.default=c.exports},712:function(t,e,s){"use strict";s.r(e);var a=s(713),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e.default=i.a},713:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chatPage",data:function(){return{chatLoginName:sessionStorage.getItem("chatLoginName"),chatDetail:{username:"",type:"",readay:""},message:""}},computed:{chatArr:function(){return this.$store.state.MESSAGE.chatArr}},created:function(){this.chatDetail=JSON.parse(this.$route.query.info),this.$store.dispatch("chatArr",this.chatDetail.username)},methods:{send:function(){var t=this;if(window.WebSocket)if(""!==this.chatDetail.username)if(""!==this.message){var e=this.$store.state.MESSAGE.userList.filter(function(e,s,a){return e.username===t.chatDetail.username});if(0!==e.length&&e[0].readay){var s={type:"message",sendName:this.chatLoginName,reciveName:this.chatDetail.username,message:this.message};this.WS.ws.send(JSON.stringify(s)),this.message=""}else this.layer.msg("该好友不在线，不能聊天哦")}else this.layer.msg("消息不能为空");else this.layer.msg("请选择聊天对象");else this.layer.msg("服务器关闭，请退出重新登录")}}}},714:function(t,e,s){},843:function(t,e,s){"use strict";var a=s(714);s.n(a).a},888:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"x-chatPage"},[s("v-head-back-2",{attrs:{url:"/wechat/friendList",position:"fixed"}},[s("span",[t._v(t._s(t.chatDetail.username))])]),t._v(" "),s("div",{staticClass:"fram-content"},[s("div",{ref:"bottomScroll",staticClass:"m-p-scroll scroll-style",attrs:{id:"bottomScroll"}},[s("div",{staticClass:"message-panel"},t._l(t.chatArr,function(e){return s("div",{staticClass:"m-p-wrap"},[e.name===t.chatLoginName?s("div",{staticClass:"tr"},[s("div",{staticClass:"m-p-name-1"},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"m-p-text-1 right"},[t._v(t._s(e.mess))])]):s("div",{staticClass:"tl"},[s("div",{staticClass:"m-p-name-2"},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"m-p-text-2"},[t._v(t._s(e.mess))])])])}),0)])]),t._v(" "),s("div",{staticClass:"fram-input"},[s("div",{staticStyle:{padding:"0 2px"}},[s("el-input",{attrs:{type:"text",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.send(e):null}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),s("el-button",{on:{click:t.send}},[t._v("发送")])],1)])],1)},i=[];a._withStripped=!0,s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})}}]);
//# sourceMappingURL=38.736398899daa0afc1ffc.js.map