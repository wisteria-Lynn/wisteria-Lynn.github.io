(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{611:function(t,e,s){"use strict";s.r(e);var a=s(882),i=s(702);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s(837);var c=s(74),r=Object(c.a)(i.default,a.a,a.b,!1,null,"35f99ade",null);r.options.__file="src/pages/wechat/friendList.vue",e.default=r.exports},702:function(t,e,s){"use strict";s.r(e);var a=s(703),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e.default=i.a},703:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(622);e.default={name:"friendList",data:function(){return{chatLoginName:"",searchName:""}},computed:{messageList:function(){return this.$store.state.MESSAGE.userMessageList},localMessage:function(){return this.$store.state.MESSAGE.localMessage},localMessageIndex:function(){return this.$store.state.MESSAGE.localMessageIndex}},methods:{chatOut:function(){this.WS.ws.send(JSON.stringify({type:"close",username:this.chatLoginName})),sessionStorage.removeItem("chatLoginName"),this.$router.push("/wechat/chatLogin")},chatClick:function(t){if(2===t.type){this.$router.push({name:"chatPage",query:{info:JSON.stringify(t)}});var e=this.messageList.findIndex(function(e,s,a){return e.chatName===t.username});e>-1&&this.messageList[e].msNum>0&&(this.messageList[e].msNum=0,this.localMessage[this.localMessageIndex].list=this.messageList,this.$store.dispatch("localMessage",this.localMessage))}},getFrendList:function(){var t=this;(0,a.chatFriendList)({name:this.chatLoginName}).then(function(e){0!==e.code?t.layer.msg(codeText(e.code)):t.$store.dispatch("FriendList",e.data)})},getChatAddFriend:function(t,e){var s=this;(0,a.chatAddFriend)({sendName:"add"===e?this.chatLoginName:t.username,reciveName:"recive"===e?this.chatLoginName:t.username,type:e}).then(function(t){0!==t.code?s.layer.msg(codeText(t.code)):s.getFrendList()})}},created:function(){this.chatLoginName=this.$route.params.name||sessionStorage.getItem("chatLoginName"),this.chatLoginName&&window.WebSocket?this.getFrendList():(sessionStorage.removeItem("chatLoginName"),this.$router.push({name:"chatLogin"}))}}},704:function(t,e,s){},837:function(t,e,s){"use strict";var a=s(704);s.n(a).a},882:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"x-friendList"},[s("v-head-back-2",{attrs:{url:"/"}},[s("span",[t._v(t._s(t.chatLoginName))]),t._v(" "),s("span",{on:{click:t.chatOut}},[t._v("切换账号")])]),t._v(" "),s("div",{staticStyle:{background:"#Fff",padding:"10px"}},[s("p",{staticStyle:{"font-size":"14px","margin-bottom":"10px"}},[t._v("好友列表("+t._s(t.$store.state.MESSAGE.FriendList.length)+")")]),t._v(" "),s("div",{staticClass:"fram-side-search"},[s("el-input",{attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1)]),t._v(" "),s("div",{staticClass:"fram-side-list"},[s("div",{staticClass:"f-s-scroll scroll-style"},t._l(t.$store.state.MESSAGE.FriendList,function(e,a){return s("div",{key:a,staticClass:"f-l-item",on:{click:function(s){t.chatClick(e)}}},[s("span",{staticClass:"f-l-name"},[s("i",{staticClass:"iconfont iconicon29"}),t._v("\n\t\t\t\t\t\t"+t._s(e.username)+"\n\t\t\t\t\t")]),t._v(" "),2===e.type?s("div",{staticStyle:{float:"right"}},[e.msNum&&e.msNum>0?s("span",{staticClass:"message-num chat-ms-num"},[t._v(t._s(e.msNum))]):t._e()]):t._e(),t._v(" "),s("span",{staticClass:"f-l-isready"},[t._v(t._s(e.readay?"在线":"离线"))]),t._v(" "),0===e.type?s("div",{staticStyle:{float:"right"}},[s("span",{staticClass:"btn btn-error chat-btn-reject"},[t._v("待通过")])]):t._e(),t._v(" "),1===e.type?s("div",{staticStyle:{float:"right"}},[s("span",{staticClass:"btn btn-success chat-btn-agree",on:{click:function(s){t.getChatAddFriend(e,"recive")}}},[t._v("接受")])]):t._e()])}),0)])],1)},i=[];a._withStripped=!0,s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})}}]);
//# sourceMappingURL=39.92708a764848c910fe27.js.map