{"version":3,"sources":["webpack:///./src/pages/wechat/chat.vue","webpack:///./src/pages/wechat/chat.vue?5afc","webpack:///src/pages/wechat/chat.vue","webpack:///./src/common/bus.js","webpack:///./src/pages/wechat/chat.vue?5bc3","webpack:///./src/pages/wechat/chat.vue?823d","webpack:///./src/pages/wechat/chat.vue?cbb0","webpack:///./src/pages/wechat/chat.vue?9a72"],"names":["__webpack_require__","r","__webpack_exports__","_chat_vue_vue_type_template_id_7311f14d___WEBPACK_IMPORTED_MODULE_0__","_chat_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_4__","component","Object","options","__file","_node_modules_babel_loader_lib_index_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_user","_api","_bus","name","data","chatLoginName","searchName","chatDetail","chatName","type","readay","chatLineList","chatList","message","localMessage","JSON","parse","localStorage","getItem","localIndex","messageList","sysMessages","chatTheme","isShowSys","animals","activePanel","isChatLogin","errorMessage","isErrMes","isUseEnterSend","methods","initWebSocket","_this","this","websock","WebSocket","onopen","websocketonopen","onerror","websocketonerror","onmessage","websocketonmessage","onclose","websocketclose","window","onunload","close","onbeforeunload","console","log","username","send","stringify","e","_this2","push","levName","sendName","reciveName","messNum","setTimeout","div","$refs","bottomScroll","scrollTop","scrollHeight","list","index","findIndex","val","arr","chatArr","mess","$set","msNum","length","setItem","preventDefault","layer","msg","replace","sendMes","item","chatClick","u","_this3","MsIndex","getReadyLine","result","filter","getFrendList","_this4","chatFriendList","then","res","code","codeText","getMessNum","getChatAddFriend","_this5","chatAddFriend","loginout","$router","changeChatTheme","theme","target","id","animalsAdd","created","_this6","r_name","$route","params","sessionStorage","websockLink","removeItem","_vue","Vue","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_node_modules_sass_resources_loader_lib_loader_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_node_modules_sass_resources_loader_lib_loader_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_1_lang_less___WEBPACK_IMPORTED_MODULE_0__","render","_vm","_h","$createElement","_c","_self","staticClass","class","staticStyle","min-height","height","line-height","color","font-size","_v","_s","directives","rawName","value","expression","attrs","src","alt","margin-top","placement","trigger","on","click","slot","GLOBAL","avatar","size","placeholder","suffix-icon","model","callback","$$v","span","nativeOn","$event","_l","float","_e","position","top","title","show-icon","closable","ref","justify-content","padding","focus","keydown","_k","keyCode","_m","staticRenderFns","display","width","_withStripped"],"mappings":"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","file":"js/10.3c8b3512b2493cc4f30f.js","sourcesContent":["import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=7311f14d&\"\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./chat.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Lynn\\\\myproject\\\\wisteria-Lynn.github.io\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7311f14d', component.options)\n    } else {\n      api.reload('7311f14d', component.options)\n    }\n    module.hot.accept(\"./chat.vue?vue&type=template&id=7311f14d&\", function () {\n      api.rerender('7311f14d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/wechat/chat.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js&\"","<template>\n\t<div class=\"chat bg-color--hui\" :class=\"[chatTheme]\" style=\"min-height:100%;\">\n\t\t<div class=\"chat-header tc\" style=\"height:15%;line-height:4.5;color:#fff;font-size:32px;\">\n\t\t\t欢迎&nbsp;{{chatLoginName}}&nbsp;进入渔火聊天室\n\t\t</div>\n\t\t<!--聊天全局-->\n\t\t<div class=\"chat-wrap all-wrap\">\n\t\t\t<!--聊天居中窗口-->\n\t\t\t<div class=\"chat-frame bg-color--white\">\n\t\t\t\t<div class=\"fram-animals\">\n\t\t\t\t\t<img v-show=\"animals%3 === 0\" class=\"animal-1\" src=\"../../assets/img/wechat/animals1.png\" alt=\"\">\n\t\t\t\t\t<img v-show=\"animals%3 === 1\" class=\"animal-2\" src=\"../../assets/img/wechat/animals2.png\" alt=\"\">\n\t\t\t\t\t<img v-show=\"animals%3 === 2\" class=\"animal-3\" src=\"../../assets/img/wechat/animals3.png\" alt=\"\">\n\t\t\t\t</div>\n\t\t\t\t<!--左侧-->\n\t\t\t\t<div class=\"fram-side f14\">\n\t\t\t\t\t<!--左侧头部-->\n\t\t\t\t\t<div class=\"fram-side-head tc pb20\">\n\t\t\t\t\t\t<p style=\"margin-top:0;\" class=\"tl p10\">\n\t\t\t\t\t\t\t<el-popover\n\t\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\t\ttrigger=\"hover\">\n\t\t\t\t\t\t\t\t<div class=\"chat-theme\" @click=\"changeChatTheme\">\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-0\"></span>\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-1\"></span>\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-2\"></span>\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-3\"></span>\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-4\"></span>\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-5\"></span>\n\t\t\t\t\t\t\t\t\t<span id=\"chat-bg-color-6\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span slot=\"reference\" class=\"cp\">主题</span>\n\t\t\t\t\t\t\t</el-popover>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<img :src=\"GLOBAL.avatar\" alt=\"\">\n\t\t\t\t\t\t<p class=\"mt10\">\n\t\t\t\t\t\t\t{{chatLoginName}}&nbsp;|\n\t\t\t\t\t\t\t<span v-show=\"!isChatLogin\">离线</span>\n\t\t\t\t\t\t\t<span v-show=\"isChatLogin\">在线</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"mt10 chat-btn-link\">\n\t\t\t\t\t\t\t<el-button v-show=\"!isChatLogin\" type=\"primary\" size=\"mini\" @click=\"initWebSocket\">重新连接</el-button>\n\t\t\t\t\t\t\t<el-button v-show=\"isChatLogin\" type=\"primary\" size=\"mini\" @click=\"loginout\">切换账号</el-button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--搜索框-->\n\t\t\t\t\t<div class=\"fram-side-search\">\n\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\tplaceholder=\"请输入内容\"\n\t\t\t\t\t\t\tsuffix-icon=\"el-icon-search\"\n\t\t\t\t\t\t\tv-model=\"searchName\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--好友列表-->\n\t\t\t\t\t<el-row style=\"height: 40px;line-height: 40px;\" class=\"tc\">\n\t\t\t\t\t\t<el-col :span=\"12\" class=\"activePanel cp\" :class=\"[activePanel === 'friend' ? 'active' : '']\" @click.native=\"activePanel = 'friend'\">好友({{chatList.length}})</el-col>\n\t\t\t\t\t\t<el-col :span=\"12\" class=\"activePanel cp\" :class=\"[activePanel === 'groups' ? 'active' : '']\" @click.native=\"activePanel = 'groups'\">群聊(0)</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t<!--好友列表-->\n\t\t\t\t\t<div class=\"fram-side-list\" v-show=\"activePanel === 'friend'\">\n\t\t\t\t\t\t<div class=\"f-s-scroll scroll-style\">\n\t\t\t\t\t\t\t<div v-for=\"(item,index) in chatList\" @click=\"chatClick(item)\" :key=\"index\"\n\t\t\t\t\t\t\t\t :class=\"[item.username === chatDetail.chatName?'active':'']\" class=\"f-l-item\">\n\t\t\t\t\t\t\t<!--<div v-for=\"item in chatList\" @click=\"chatClick(item)\" class=\"f-l-item\">-->\n\t\t\t\t\t\t\t\t<span class=\"f-l-name\">{{item.username}}</span>\n\t\t\t\t\t\t\t\t<div v-if=\"item.type === 2\" style=\"float:right;\">\n\t\t\t\t\t\t\t\t\t<span class=\"message-num chat-ms-num\" v-if=\"getMessNum(item) > 0\">{{getMessNum(item)}}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class=\"f-l-isready\">{{getReadyLine(item,index) ? '在线':'离线'}}</span>\n\t\t\t\t\t\t\t\t<div v-if=\"item.type === 0\" style=\"float:right;\">\n\t\t\t\t\t\t\t\t\t<span class=\"btn btn-error chat-btn-reject\">待通过</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if=\"item.type === 1\" style=\"float:right;\">\n\t\t\t\t\t\t\t\t\t<span class=\"btn btn-success chat-btn-agree\" @click=\"getChatAddFriend(item,'recive')\">接受</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--群聊列表-->\n\t\t\t\t\t<div class=\"fram-side-list\" v-show=\"activePanel === 'groups'\">\n\t\t\t\t\t\t<div class=\"f-s-scroll scroll-style tc\">\n\t\t\t\t\t\t\t敬请期待！\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!--中间内容-->\n\t\t\t\t<div class=\"fram-container\">\n\t\t\t\t\t<el-alert\n\t\t\t\t\t\t:title=\"errorMessage\"\n\t\t\t\t\t\ttype=\"warning\"\n\t\t\t\t\t\tshow-icon\n\t\t\t\t\t\t:closable=\"false\"\n\t\t\t\t\t\tv-show=\"isErrMes\" style=\"position:absolute;top:-50px;\">\n\t\t\t\t\t</el-alert>\n\t\t\t\t\t<!--内容头部-->\n\t\t\t\t\t<div class=\"fram-head f14\">\n\t\t\t\t\t\t<div>{{chatDetail.chatName}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--聊天内容-->\n\t\t\t\t\t<div class=\"fram-content\">\n\t\t\t\t\t\t<div class=\"m-p-scroll scroll-style\" ref=\"bottomScroll\">\n\t\t\t\t\t\t\t<div class=\"message-panel\">\n\t\t\t\t\t\t\t\t<div v-for=\"list in messageList\" v-if=\"list.chatName === chatDetail.chatName\">\n\t\t\t\t\t\t\t\t\t<div class=\"m-p-wrap\" v-for=\"item in list.chatArr\">\n\t\t\t\t\t\t\t\t\t\t<el-row type=\"flex\" v-if=\"item.name === chatLoginName\" class=\"message-you\" style=\"justify-content: flex-end;\">\n\t\t\t\t\t\t\t\t\t\t\t<span>{{item.mess}}</span>\n\t\t\t\t\t\t\t\t\t\t\t<img :src=\"GLOBAL.avatar\" alt>\n\t\t\t\t\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t\t\t\t\t<el-row v-else type=\"flex\" class=\"message-he\">\n\t\t\t\t\t\t\t\t\t\t\t<img :src=\"GLOBAL.avatar\" alt>\n\t\t\t\t\t\t\t\t\t\t\t<span>{{item.mess}}</span>\n\t\t\t\t\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--聊天输入框-->\n\t\t\t\t\t<div class=\"fram-input\">\n\t\t\t\t\t\t<div style=\"padding:0 2px;\">\n\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\tv-show=\"!isUseEnterSend\"\n\t\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t\t@focus=\"animalsAdd\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入内容\"\n\t\t\t\t\t\t\t\tv-model=\"message\">\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\tv-show=\"isUseEnterSend\"\n\t\t\t\t\t\t\t\t@keydown.enter.native=\"send($event)\"\n\t\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t\t@focus=\"animalsAdd\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入内容\"\n\t\t\t\t\t\t\t\tv-model=\"message\">\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--聊天发送-->\n\t\t\t\t\t<div class=\"fram-foot\">\n\t\t\t\t\t\t<div class=\"tr chat-btn-link\" style=\"padding:0 1px;\">\n\t\t\t\t\t\t\t<el-button @click=\"send\">发送</el-button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!--右侧-->\n\t\t\t<div class=\"fram-rgiht-open\" v-show=\"!isShowSys\" @click=\"isShowSys = !isShowSys\">\n\t\t\t\t<span style=\"display: block;width:14px;\" class=\"f14 p10 cp\">系统设置<i class=\"el-icon-arrow-down\"></i></span>\n\t\t\t</div>\n\t\t\t<div class=\"fram-rgiht ml20 f14\" v-show=\"isShowSys\">\n\t\t\t\t<!--右侧头部-->\n\t\t\t\t<div class=\"fram-head\">\n\t\t\t\t\t<div><span @click=\"isShowSys = false\" class=\"cp\"><i class=\"el-icon-arrow-left\"></i></span>&nbsp;系统设置</div>\n\t\t\t\t</div>\n\t\t\t\t<!--右侧系统消息-->\n\t\t\t\t<div class=\"fram-right-content p10\">\n\t\t\t\t\t<h2>系统消息</h2>\n\t\t\t\t\t<div class=\"f-r-scroll scroll-style pl10\">\n\t\t\t\t\t\t<div v-for=\"list in sysMessages\">{{list}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2>设置快捷键</h2>\n\t\t\t\t\t<div class=\"p10 chat-checkbox\">\n\t\t\t\t\t\t<el-checkbox v-model=\"isUseEnterSend\">使用enter发送</el-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport { chatFriendList,chatAddFriend } from '../../api/user'\n\timport { codeText } from '../../api/api'\n\timport Bus from '../../common/bus'\n\texport default {\n\t\tname: \"chat\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tchatLoginName: '',// 聊天室登录账号\n\t\t\t\tsearchName: '', // 搜索关键字\n\t\t\t\tchatDetail:{ // 聊天对象信息\n\t\t\t\t\tchatName: '',// 对象名字\n\t\t\t\t\ttype:'', // 和该对象的关系，0已发送加好友信息，1等待好友验证，2已是好友关系\n\t\t\t\t\treaday:''// 是否在线\n\t\t\t\t}, // 对方详情\n\t\t\t\tchatLineList: [],// 聊天在线用户\n\t\t\t\tchatList: [],// 好友列表\n\t\t\t\tmessage: '', // 发送的消息\n\t\t\t\tlocalMessage:JSON.parse(localStorage.getItem('messageList')) || [],// 本地聊天记录\n\t\t\t\tlocalIndex:'',// 该登录用户在本地消息记录中的索引\n\t\t\t\tmessageList: [],// 消息列表\n\t\t\t\tsysMessages: [],//系统消息\n\t\t\t\tchatTheme:'chat-bg-color-0',\n\t\t\t\tisShowSys:false,\n\t\t\t\tanimals:1,\n\t\t\t\tactivePanel:'friend',\n\t\t\t\tisChatLogin:false,\n\t\t\t\terrorMessage:'',\n\t\t\t\tisErrMes:false,\n\t\t\t\tisUseEnterSend:true\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// websocket 初始化\n\t\t\tinitWebSocket() {\n\t\t\t\t// 链接服务器\n\t\t\t\tconst wsUrl = 'ws://127.0.0.1:3001'// ws地址\n\t\t\t\tthis.websock = new WebSocket(wsUrl)\n\t\t\t\t// 开启\n\t\t\t\tthis.websock.onopen = this.websocketonopen\n\t\t\t\t// 连接出错\n\t\t\t\tthis.websock.onerror = this.websocketonerror\n\t\t\t\t// 系统消息\n\t\t\t\tthis.websock.onmessage = this.websocketonmessage\n\t\t\t\t// 关闭\n\t\t\t\tthis.websock.onclose = this.websocketclose\n\t\t\t\t// 前端代码监听页面关闭或者刷新\n\t\t\t\twindow.onunload = () => {\n\t\t\t\t\tthis.close()\n\t\t\t\t}\n\t\t\t\t//监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，server端会抛异常。\n\t\t\t\twindow.onbeforeunload = function () {\n\t\t\t\t\tthis.close()\n\t\t\t\t}\n\t\t\t},\n\t\t\twebsocketonopen() {\n\t\t\t\tconsole.log('WebSocket连接成功')\n\t\t\t\tthis.isChatLogin = true\n\t\t\t\tthis.isErrMes = false\n\t\t\t\t// 如果当前用户存在\n\t\t\t\tif (this.chatLoginName) {\n\t\t\t\t\tlet message = {\n\t\t\t\t\t\ttype: 'login',\n\t\t\t\t\t\tusername: this.chatLoginName\n\t\t\t\t\t}\n\t\t\t\t\tthis.websock.send(JSON.stringify(message))\n\t\t\t\t}\n\t\t\t},\n\t\t\twebsocketonmessage(e) {\n\t\t\t\tconsole.log(e.data)\n\t\t\t\tlet data = JSON.parse(e.data)\n\t\t\t\t// 系统消息\n\t\t\t\tif (data.type === 'system') {\n\t\t\t\t\tthis.sysMessages.push(data.message)\n\t\t\t\t}\n\t\t\t\t// 用户在线列表\n\t\t\t\tif (data.type === 'userList') {\n\t\t\t\t\tthis.chatLineList = data.message\n\t\t\t\t}\n\t\t\t\t// 对话消息\n\t\t\t\tif (data.type === 'message') {\n\t\t\t\t\t// 对方昵称\n\t\t\t\t\tlet levName = this.chatLoginName === data.sendName ? data.reciveName : data.sendName\n\t\t\t\t\t// 消息条数\n\t\t\t\t\tlet messNum = 0\n\n\n\t\t\t\t\t// 聊天时是否显示当前 发送/接收 消息的面板\n\t\t\t\t\tif(levName !== this.chatDetail.chatName) {\n\t\t\t\t\t\t// 消息条数加1\n\t\t\t\t\t\tmessNum++\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 聊天消息置底\n\t\t\t\t\t\tsetTimeout(()=> {\n\t\t\t\t\t\t\tlet div = this.$refs.bottomScroll\n\t\t\t\t\t\t\tdiv.scrollTop = div.scrollHeight\n\t\t\t\t\t\t},100)\n\t\t\t\t\t}\n\t\t\t\t\t// 该账户有聊天记录\n\t\t\t\t\tif (this.localIndex > -1) {\n\t\t\t\t\t\tthis.messageList = this.localMessage[this.localIndex].list\n\t\t\t\t\t\t// 拿取聊天对象的消息索引\n\t\t\t\t\t\tlet index = this.messageList.findIndex((val, index, arr) => {\n\t\t\t\t\t\t\treturn val.chatName === levName\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// 判断该对象是否有聊天消息\n\t\t\t\t\t\tif (index > -1) {\n\t\t\t\t\t\t\t// 该对象有聊天消息，将新消息压入\n\t\t\t\t\t\t\tthis.messageList[index].chatArr.push({\n\t\t\t\t\t\t\t\tname: data.sendName,\n\t\t\t\t\t\t\t\tmess: data.message\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// 新消息提示\n\t\t\t\t\t\t\tif(messNum > 0){\n\t\t\t\t\t\t\t\tthis.$set(this.messageList[index],'msNum',this.messageList[index].msNum + messNum)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 该对象没有聊天消息，新增\n\t\t\t\t\t\t\tthis.messageList.push({\n\t\t\t\t\t\t\t\tchatName: levName,\n\t\t\t\t\t\t\t\tchatArr: [{\n\t\t\t\t\t\t\t\t\tname: data.sendName,\n\t\t\t\t\t\t\t\t\tmess: data.message\n\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\tmsNum:messNum\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 更新本地消息\n\t\t\t\t\t\tthis.localMessage[this.localIndex].list = this.messageList\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 该账户没有聊天记录 新增关于该账户的消息\n\t\t\t\t\t\tthis.messageList.push({\n\t\t\t\t\t\t\tchatName: levName,\n\t\t\t\t\t\t\tchatArr: [{\n\t\t\t\t\t\t\t\tname: data.sendName,\n\t\t\t\t\t\t\t\tmess: data.message\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tmsNum:messNum\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.localMessage.push({\n\t\t\t\t\t\t\tname:this.chatLoginName,\n\t\t\t\t\t\t\tlist:this.messageList,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.localIndex = this.localMessage.length - 1\n\t\t\t\t\t}\n\t\t\t\t\t// 更新存储信息\n\t\t\t\t\tlocalStorage.setItem('messageList', JSON.stringify(this.localMessage))\n\t\t\t\t}\n\t\t\t},\n\t\t\tclose() {\n\t\t\t\tif (this.chatLoginName) {\n\t\t\t\t\tthis.websock.send(JSON.stringify({\n\t\t\t\t\t\ttype: 'close',\n\t\t\t\t\t\tusername: this.chatLoginName\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t\tthis.websocketclose()\n\t\t\t},\n\t\t\twebsocketclose() {\n\t\t\t\tconsole.log(\"服务器关闭\")\n\t\t\t},\n\t\t\twebsocketonerror() {\n\t\t\t\tthis.isChatLogin = false\n\t\t\t\tthis.isErrMes = true\n\t\t\t\tthis.errorMessage = 'websocket连接出错，请重新连接'\n\t\t\t\tconsole.log(\"连接出错\")\n\t\t\t},\n\t\t\t// 发送\n\t\t\tsend(e) {\n\t\t\t\tif(e && this.isUseEnterSend){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\tif (!this.isChatLogin || !window.WebSocket) {\n\t\t\t\t\tthis.layer.msg('服务器关闭，请退出重新登录')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.chatDetail.chatName === '') {\n\t\t\t\t\tthis.layer.msg('请选择聊天对象')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.chatDetail.type !== 2) {\n\t\t\t\t\tthis.layer.msg('你们还不是好友，不能聊天哦')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!this.chatDetail.readay) {\n\t\t\t\t\tthis.layer.msg('该好友不在线，不能聊天哦')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.message.replace(/\\s/g, \"\") === '') {\n\t\t\t\t\tthis.layer.msg('消息不能为空')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.sendMes({\n\t\t\t\t\ttype:'message',\n\t\t\t\t\tsendName: this.chatLoginName,// 发送方昵称\n\t\t\t\t\treciveName: this.chatDetail.chatName,// 接收方昵称\n\t\t\t\t\tmessage: this.message // 消息\n\t\t\t\t})\n\t\t\t},\n\t\t\tsendMes(item){\n\t\t\t\tlet message = {\n\t\t\t\t\ttype: item.type, // 消息类型\n\t\t\t\t\tsendName: item.sendName,// 发送方昵称\n\t\t\t\t\treciveName: item.reciveName,// 接收方昵称\n\t\t\t\t\tmessage: item.message // 消息\n\t\t\t\t}\n\t\t\t\tthis.websock.send(JSON.stringify(message))\n\t\t\t\tthis.message = ''\n\t\t\t},\n\t\t\t// 左侧item点击事件\n\t\t\tchatClick(u) {\n\t\t\t\t// 消息索引\n\t\t\t\tlet MsIndex = this.messageList.findIndex((val, index, arr) => {\n\t\t\t\t\treturn val.chatName === u.username\n\t\t\t\t})\n\t\t\t\tif (MsIndex > -1) {\n\t\t\t\t\t// 是否有未读消息\n\t\t\t\t\tif (this.messageList[MsIndex].msNum > 0) {\n\t\t\t\t\t\tthis.$set(this.messageList[MsIndex],'msNum',0)\n\t\t\t\t\t\t// 已读过后，更新本地消息\n\t\t\t\t\t\tlet localIndex = this.localMessage.findIndex((val, index, arr) => {\n\t\t\t\t\t\t\treturn val.name === this.chatLoginName\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.localMessage[localIndex].list = this.messageList\n\t\t\t\t\t\tlocalStorage.setItem('messageList', JSON.stringify(this.localMessage))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 滚动条居底部\n\t\t\t\tsetTimeout(()=> {\n\t\t\t\t\tlet div = this.$refs.bottomScroll\n\t\t\t\t\tdiv.scrollTop = div.scrollHeight\n\t\t\t\t},100)\n\t\t\t\t// 聊天对象信息\n\t\t\t\tthis.chatDetail = {\n\t\t\t\t\tchatName:u.username,\n\t\t\t\t\ttype:u.type,\n\t\t\t\t\treaday:u.readay\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 判断用户是否在线\n\t\t\tgetReadyLine(item,index){\n\t\t\t\tlet result = this.chatLineList.filter((val, index, arr) => {\n\t\t\t\t\treturn val.username === item.username\n\t\t\t\t})\n\t\t\t\tlet readay = result.length === 0 ? false : result[0].readay\n\t\t\t\tthis.chatList[index].readay = readay\n\t\t\t\treturn readay\n\t\t\t},\n\t\t\t// 获取好友列表\n\t\t\tgetFrendList(){\n\t\t\t\tchatFriendList({\n\t\t\t\t\tname:this.chatLoginName\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif(res.code !== 0) {\n\t\t\t\t\t\tthis.layer.msg(codeText(res.code))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.chatList = res.data\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 判断未读消息\n\t\t\tgetMessNum(item) {\n\t\t\t\tlet result = this.messageList.filter((val, index, arr) => {\n\t\t\t\t\treturn val.chatName === item.username\n\t\t\t\t})\n\t\t\t\treturn result.length === 0 ? 0 : result[0].msNum\n\t\t\t},\n\t\t\t// 添加/接受 好友\n\t\t\tgetChatAddFriend(item,type) {\n\t\t\t\tchatAddFriend({\n\t\t\t\t\tsendName:type === 'add' ? this.chatLoginName : item.username,\n\t\t\t\t\treciveName:type === 'recive' ? this.chatLoginName : item.username,\n\t\t\t\t\ttype:type\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif(res.code !== 0) {\n\t\t\t\t\t\tthis.layer.msg(codeText(res.code))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.getFrendList()\n\t\t\t\t\t\tif(type === 'recive'){\n\t\t\t\t\t\t\tthis.sendMes({\n\t\t\t\t\t\t\t\ttype:'message',\n\t\t\t\t\t\t\t\tsendName: this.chatLoginName,// 发送方昵称\n\t\t\t\t\t\t\t\treciveName: item.username,// 接收方昵称\n\t\t\t\t\t\t\t\tmessage: '我们已经是好友了，赶紧来聊天吧'// 消息\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// getChatReciveFriend() {\n\t\t\t// \tchatReciveFriend({}).then((res) => {\n\t\t\t// \t\tif(res.code !== 0) {\n\t\t\t// \t\t\tthis.layer.msg(codeText(res.code))\n\t\t\t// \t\t} else {\n\t\t\t//\n\t\t\t// \t\t}\n\t\t\t// \t})\n\t\t\t// },\n\t\t\t// 关闭服务器连接\n\t\t\t// 退出\n\t\t\tloginout() {\n\t\t\t\tthis.close()\n\t\t\t\tthis.$router.push({name:'chatLogin'})\n\t\t\t},\n\t\t\tchangeChatTheme(e){\n\t\t\t\tlet theme = e.target.id\n\t\t\t\tthis.chatTheme = theme ? theme : this.chatTheme\n\t\t\t},\n\t\t\tanimalsAdd(){\n\t\t\t\tthis.animals++\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tlet r_name = this.$route.params.name || sessionStorage.getItem('chatLoginName')\n\t\t\tlet websockLink = sessionStorage.getItem('websocketLink')\n\t\t\tif (r_name && websockLink === '1'){\n\t\t\t\t\t// 保存登录名\n\t\t\t\t\tsessionStorage.setItem('chatLoginName',r_name)\n\t\t\t\t\tthis.chatLoginName = r_name\n\t\t\t\t// 获取好友列表\n\t\t\t\tthis.getFrendList()\n\t\t\t\t// 当前账户的消息索引\n\t\t\t\tthis.localIndex = this.localMessage.findIndex((val, index, arr) => {\n\t\t\t\t\treturn val.name === this.chatLoginName\n\t\t\t\t})\n\t\t\t\t// 拿取该账户的本地消息\n\t\t\t\tthis.messageList =this.localIndex > -1 ? this.localMessage[this.localIndex].list : []\n\t\t\t\t// 开启长连接\n\t\t\t\tthis.initWebSocket()\n\t\t\t} else {\n\t\t\t\tsessionStorage.removeItem('chatLoginName')\n\t\t\t\tthis.$router.push({name:'chatLogin'})\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style>\n\t.fram-input textarea {\n\t\theight: 120px;\n\t\tborder: none;\n\t}\n</style>\n<style lang=\"less\">\n\t.chat-com-theme(@main,@active,@hover,@tcolor,@tcshaw){\n\t\t.chat-header,.fram-side,.fram-side-head,.fram-rgiht .fram-head,.fram-rgiht-open span{\n\t\t\tbackground:@main;\n\t\t\tcolor:#fff !important;\n\t\t}\n\t\t.f-l-isready{\n\t\t\tcolor:@tcolor !important;\n\t\t}\n\t\t.activePanel{\n\t\t\t&.active{\n\t\t\t\tbackground: @active;\n\t\t\t}\n\t\t}\n\t\t.f-l-item {\n\t\t\t&.active{\n\t\t\t\tbackground: @active;\n\t\t\t}\n\t\t\t&:hover{\n\t\t\t\tbackground: @hover;\n\t\t\t}\n\t\t}\n\t\t.message-you{\n\t\t\tspan{\n\t\t\t\tcolor:#fff;\n\t\t\t\tbackground:@main;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tbox-shadow: 0 0 15px @tcshaw;\n\t\t\t}\n\t\t}\n\t\t.chat-btn-link{\n\t\t\t.el-button{\n\t\t\t\tcolor:#fff;\n\t\t\t\tbackground:@active;\n\t\t\t\tborder-color:@active;\n\t\t\t\t&:hover{\n\t\t\t\t\tbackground:@hover;\n\t\t\t\t\tborder-color:@hover;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.chat-checkbox{\n\t\t\t.el-checkbox__label{\n\t\t\t\tcolor:#333;\n\t\t\t}\n\t\t\t.el-checkbox__input.is-checked .el-checkbox__inner, .el-checkbox__input.is-indeterminate .el-checkbox__inner{\n\t\t\t\tbackground-color:@main;\n\t\t\t\tborder-color:@main;\n\t\t\t}\n\t\t\t.el-checkbox__inner:hover{\n\t\t\t\tborder-color: #DCDFE6;\n\t\t\t}\n\t\t}\n\t}\n\t.chat-bg-color-0{\n\t\t.chat-com-theme(@chatTheme0,@chatTheme0Active,@chatTheme0Hover,#fff,#bbb)\n\t}\n\t.chat-bg-color-1{\n\t\t.chat-com-theme(@chatTheme1,@chatTheme1Active,@chatTheme1Hover,#dcdcdc,#ccc)\n\t}\n\t.chat-bg-color-2{\n\t\t.chat-com-theme(@chatTheme2,@chatTheme2Active,@chatTheme2Hover,#dcdcdc,#ccc)\n\t}\n\t.chat-bg-color-3{\n\t\t.chat-com-theme(@chatTheme3,@chatTheme3Active,@chatTheme3Hover,#dcdcdc,#ccc)\n\t}\n\t.chat-bg-color-4{\n\t\t.chat-com-theme(@chatTheme4,@chatTheme4Active,@chatTheme4Hover,#dcdcdc,#ccc)\n\t}\n\t.chat-bg-color-5{\n\t\t.chat-com-theme(@chatTheme5,@chatTheme5Active,@chatTheme5Hover,#dcdcdc,#ccc)\n\t}\n\t.chat-bg-color-6{\n\t\t.chat-com-theme(@chatTheme6,@chatTheme6Active,@chatTheme6Hover,#fff,#ccc)\n\t}\n\t.chat-btn-agree,.chat-btn-reject{\n\t\tpadding:0 10px;\n\t\tfont-size:12px;\n\t\tline-height: 20px;\n\t}\n\t.chat-ms-num{\n\t\twidth:20px;\n\t\theight:20px;\n\t\tline-height: 20px;\n\t\tfont-size:12px;\n\t\ttext-align: center;\n\t}\n\t.chat-theme{\n\t\tspan{\n\t\t\tdisplay: inline-block;\n\t\t\tcursor: pointer;\n\t\t\twidth:15px;\n\t\t\theight:15px;\n\t\t}\n\t\tspan:nth-child(1){\n\t\t\tbackground:@chatTheme0;\n\t\t}\n\t\tspan:nth-child(2){\n\t\t\tbackground:@chatTheme1;\n\t\t}\n\t\tspan:nth-child(3){\n\t\t\tbackground:@chatTheme2;\n\t\t}\n\t\tspan:nth-child(4){\n\t\t\tbackground:@chatTheme3;\n\t\t}\n\t\tspan:nth-child(5){\n\t\t\tbackground:@chatTheme4;\n\t\t}\n\t\tspan:nth-child(6){\n\t\t\tbackground:@chatTheme5;\n\t\t}\n\t\tspan:nth-child(7){\n\t\t\tbackground:@chatTheme6;\n\t\t}\n\t}\n</style>\n","// bus.js\nimport Vue from 'vue'\nexport default new Vue()\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/sass-resources-loader/lib/loader.js??ref--3-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/sass-resources-loader/lib/loader.js??ref--3-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/sass-resources-loader/lib/loader.js??ref--3-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/sass-resources-loader/lib/loader.js??ref--3-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=1&lang=less&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"chat bg-color--hui\",\n      class: [_vm.chatTheme],\n      staticStyle: { \"min-height\": \"100%\" }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"chat-header tc\",\n          staticStyle: {\n            height: \"15%\",\n            \"line-height\": \"4.5\",\n            color: \"#fff\",\n            \"font-size\": \"32px\"\n          }\n        },\n        [\n          _vm._v(\n            \"\\n\\t\\t欢迎 \" + _vm._s(_vm.chatLoginName) + \" 进入渔火聊天室\\n\\t\"\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"chat-wrap all-wrap\" }, [\n        _c(\"div\", { staticClass: \"chat-frame bg-color--white\" }, [\n          _c(\"div\", { staticClass: \"fram-animals\" }, [\n            _c(\"img\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.animals % 3 === 0,\n                  expression: \"animals%3 === 0\"\n                }\n              ],\n              staticClass: \"animal-1\",\n              attrs: {\n                src: require(\"../../assets/img/wechat/animals1.png\"),\n                alt: \"\"\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"img\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.animals % 3 === 1,\n                  expression: \"animals%3 === 1\"\n                }\n              ],\n              staticClass: \"animal-2\",\n              attrs: {\n                src: require(\"../../assets/img/wechat/animals2.png\"),\n                alt: \"\"\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"img\", {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.animals % 3 === 2,\n                  expression: \"animals%3 === 2\"\n                }\n              ],\n              staticClass: \"animal-3\",\n              attrs: {\n                src: require(\"../../assets/img/wechat/animals3.png\"),\n                alt: \"\"\n              }\n            })\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"fram-side f14\" },\n            [\n              _c(\"div\", { staticClass: \"fram-side-head tc pb20\" }, [\n                _c(\n                  \"p\",\n                  { staticClass: \"tl p10\", staticStyle: { \"margin-top\": \"0\" } },\n                  [\n                    _c(\n                      \"el-popover\",\n                      { attrs: { placement: \"top\", trigger: \"hover\" } },\n                      [\n                        _c(\n                          \"div\",\n                          {\n                            staticClass: \"chat-theme\",\n                            on: { click: _vm.changeChatTheme }\n                          },\n                          [\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-0\" } }),\n                            _vm._v(\" \"),\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-1\" } }),\n                            _vm._v(\" \"),\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-2\" } }),\n                            _vm._v(\" \"),\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-3\" } }),\n                            _vm._v(\" \"),\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-4\" } }),\n                            _vm._v(\" \"),\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-5\" } }),\n                            _vm._v(\" \"),\n                            _c(\"span\", { attrs: { id: \"chat-bg-color-6\" } })\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"span\",\n                          {\n                            staticClass: \"cp\",\n                            attrs: { slot: \"reference\" },\n                            slot: \"reference\"\n                          },\n                          [_vm._v(\"主题\")]\n                        )\n                      ]\n                    )\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"img\", { attrs: { src: _vm.GLOBAL.avatar, alt: \"\" } }),\n                _vm._v(\" \"),\n                _c(\"p\", { staticClass: \"mt10\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\\t\\t\" +\n                      _vm._s(_vm.chatLoginName) +\n                      \" |\\n\\t\\t\\t\\t\\t\\t\"\n                  ),\n                  _c(\n                    \"span\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: !_vm.isChatLogin,\n                          expression: \"!isChatLogin\"\n                        }\n                      ]\n                    },\n                    [_vm._v(\"离线\")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"span\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.isChatLogin,\n                          expression: \"isChatLogin\"\n                        }\n                      ]\n                    },\n                    [_vm._v(\"在线\")]\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"p\",\n                  { staticClass: \"mt10 chat-btn-link\" },\n                  [\n                    _c(\n                      \"el-button\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value: !_vm.isChatLogin,\n                            expression: \"!isChatLogin\"\n                          }\n                        ],\n                        attrs: { type: \"primary\", size: \"mini\" },\n                        on: { click: _vm.initWebSocket }\n                      },\n                      [_vm._v(\"重新连接\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"el-button\",\n                      {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value: _vm.isChatLogin,\n                            expression: \"isChatLogin\"\n                          }\n                        ],\n                        attrs: { type: \"primary\", size: \"mini\" },\n                        on: { click: _vm.loginout }\n                      },\n                      [_vm._v(\"切换账号\")]\n                    )\n                  ],\n                  1\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"fram-side-search\" },\n                [\n                  _c(\"el-input\", {\n                    attrs: {\n                      size: \"mini\",\n                      placeholder: \"请输入内容\",\n                      \"suffix-icon\": \"el-icon-search\"\n                    },\n                    model: {\n                      value: _vm.searchName,\n                      callback: function($$v) {\n                        _vm.searchName = $$v\n                      },\n                      expression: \"searchName\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-row\",\n                {\n                  staticClass: \"tc\",\n                  staticStyle: { height: \"40px\", \"line-height\": \"40px\" }\n                },\n                [\n                  _c(\n                    \"el-col\",\n                    {\n                      staticClass: \"activePanel cp\",\n                      class: [_vm.activePanel === \"friend\" ? \"active\" : \"\"],\n                      attrs: { span: 12 },\n                      nativeOn: {\n                        click: function($event) {\n                          _vm.activePanel = \"friend\"\n                        }\n                      }\n                    },\n                    [_vm._v(\"好友(\" + _vm._s(_vm.chatList.length) + \")\")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"el-col\",\n                    {\n                      staticClass: \"activePanel cp\",\n                      class: [_vm.activePanel === \"groups\" ? \"active\" : \"\"],\n                      attrs: { span: 12 },\n                      nativeOn: {\n                        click: function($event) {\n                          _vm.activePanel = \"groups\"\n                        }\n                      }\n                    },\n                    [_vm._v(\"群聊(0)\")]\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.activePanel === \"friend\",\n                      expression: \"activePanel === 'friend'\"\n                    }\n                  ],\n                  staticClass: \"fram-side-list\"\n                },\n                [\n                  _c(\n                    \"div\",\n                    { staticClass: \"f-s-scroll scroll-style\" },\n                    _vm._l(_vm.chatList, function(item, index) {\n                      return _c(\n                        \"div\",\n                        {\n                          key: index,\n                          staticClass: \"f-l-item\",\n                          class: [\n                            item.username === _vm.chatDetail.chatName\n                              ? \"active\"\n                              : \"\"\n                          ],\n                          on: {\n                            click: function($event) {\n                              _vm.chatClick(item)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"span\", { staticClass: \"f-l-name\" }, [\n                            _vm._v(_vm._s(item.username))\n                          ]),\n                          _vm._v(\" \"),\n                          item.type === 2\n                            ? _c(\"div\", { staticStyle: { float: \"right\" } }, [\n                                _vm.getMessNum(item) > 0\n                                  ? _c(\n                                      \"span\",\n                                      {\n                                        staticClass: \"message-num chat-ms-num\"\n                                      },\n                                      [_vm._v(_vm._s(_vm.getMessNum(item)))]\n                                    )\n                                  : _vm._e()\n                              ])\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _c(\"span\", { staticClass: \"f-l-isready\" }, [\n                            _vm._v(\n                              _vm._s(\n                                _vm.getReadyLine(item, index) ? \"在线\" : \"离线\"\n                              )\n                            )\n                          ]),\n                          _vm._v(\" \"),\n                          item.type === 0\n                            ? _c(\"div\", { staticStyle: { float: \"right\" } }, [\n                                _c(\n                                  \"span\",\n                                  {\n                                    staticClass: \"btn btn-error chat-btn-reject\"\n                                  },\n                                  [_vm._v(\"待通过\")]\n                                )\n                              ])\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          item.type === 1\n                            ? _c(\"div\", { staticStyle: { float: \"right\" } }, [\n                                _c(\n                                  \"span\",\n                                  {\n                                    staticClass:\n                                      \"btn btn-success chat-btn-agree\",\n                                    on: {\n                                      click: function($event) {\n                                        _vm.getChatAddFriend(item, \"recive\")\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\"接受\")]\n                                )\n                              ])\n                            : _vm._e()\n                        ]\n                      )\n                    }),\n                    0\n                  )\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.activePanel === \"groups\",\n                      expression: \"activePanel === 'groups'\"\n                    }\n                  ],\n                  staticClass: \"fram-side-list\"\n                },\n                [\n                  _c(\"div\", { staticClass: \"f-s-scroll scroll-style tc\" }, [\n                    _vm._v(\"\\n\\t\\t\\t\\t\\t\\t敬请期待！\\n\\t\\t\\t\\t\\t\")\n                  ])\n                ]\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"fram-container\" },\n            [\n              _c(\"el-alert\", {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.isErrMes,\n                    expression: \"isErrMes\"\n                  }\n                ],\n                staticStyle: { position: \"absolute\", top: \"-50px\" },\n                attrs: {\n                  title: _vm.errorMessage,\n                  type: \"warning\",\n                  \"show-icon\": \"\",\n                  closable: false\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"fram-head f14\" }, [\n                _c(\"div\", [_vm._v(_vm._s(_vm.chatDetail.chatName))])\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"fram-content\" }, [\n                _c(\n                  \"div\",\n                  {\n                    ref: \"bottomScroll\",\n                    staticClass: \"m-p-scroll scroll-style\"\n                  },\n                  [\n                    _c(\n                      \"div\",\n                      { staticClass: \"message-panel\" },\n                      _vm._l(_vm.messageList, function(list) {\n                        return list.chatName === _vm.chatDetail.chatName\n                          ? _c(\n                              \"div\",\n                              _vm._l(list.chatArr, function(item) {\n                                return _c(\n                                  \"div\",\n                                  { staticClass: \"m-p-wrap\" },\n                                  [\n                                    item.name === _vm.chatLoginName\n                                      ? _c(\n                                          \"el-row\",\n                                          {\n                                            staticClass: \"message-you\",\n                                            staticStyle: {\n                                              \"justify-content\": \"flex-end\"\n                                            },\n                                            attrs: { type: \"flex\" }\n                                          },\n                                          [\n                                            _c(\"span\", [\n                                              _vm._v(_vm._s(item.mess))\n                                            ]),\n                                            _vm._v(\" \"),\n                                            _c(\"img\", {\n                                              attrs: {\n                                                src: _vm.GLOBAL.avatar,\n                                                alt: \"\"\n                                              }\n                                            })\n                                          ]\n                                        )\n                                      : _c(\n                                          \"el-row\",\n                                          {\n                                            staticClass: \"message-he\",\n                                            attrs: { type: \"flex\" }\n                                          },\n                                          [\n                                            _c(\"img\", {\n                                              attrs: {\n                                                src: _vm.GLOBAL.avatar,\n                                                alt: \"\"\n                                              }\n                                            }),\n                                            _vm._v(\" \"),\n                                            _c(\"span\", [\n                                              _vm._v(_vm._s(item.mess))\n                                            ])\n                                          ]\n                                        )\n                                  ],\n                                  1\n                                )\n                              }),\n                              0\n                            )\n                          : _vm._e()\n                      }),\n                      0\n                    )\n                  ]\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"fram-input\" }, [\n                _c(\n                  \"div\",\n                  { staticStyle: { padding: \"0 2px\" } },\n                  [\n                    _c(\"el-input\", {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: !_vm.isUseEnterSend,\n                          expression: \"!isUseEnterSend\"\n                        }\n                      ],\n                      attrs: { type: \"textarea\", placeholder: \"请输入内容\" },\n                      on: { focus: _vm.animalsAdd },\n                      model: {\n                        value: _vm.message,\n                        callback: function($$v) {\n                          _vm.message = $$v\n                        },\n                        expression: \"message\"\n                      }\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"el-input\", {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.isUseEnterSend,\n                          expression: \"isUseEnterSend\"\n                        }\n                      ],\n                      attrs: { type: \"textarea\", placeholder: \"请输入内容\" },\n                      on: { focus: _vm.animalsAdd },\n                      nativeOn: {\n                        keydown: function($event) {\n                          if (\n                            !(\"button\" in $event) &&\n                            _vm._k(\n                              $event.keyCode,\n                              \"enter\",\n                              13,\n                              $event.key,\n                              \"Enter\"\n                            )\n                          ) {\n                            return null\n                          }\n                          _vm.send($event)\n                        }\n                      },\n                      model: {\n                        value: _vm.message,\n                        callback: function($$v) {\n                          _vm.message = $$v\n                        },\n                        expression: \"message\"\n                      }\n                    })\n                  ],\n                  1\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"fram-foot\" }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"tr chat-btn-link\",\n                    staticStyle: { padding: \"0 1px\" }\n                  },\n                  [\n                    _c(\"el-button\", { on: { click: _vm.send } }, [\n                      _vm._v(\"发送\")\n                    ])\n                  ],\n                  1\n                )\n              ])\n            ],\n            1\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: !_vm.isShowSys,\n                expression: \"!isShowSys\"\n              }\n            ],\n            staticClass: \"fram-rgiht-open\",\n            on: {\n              click: function($event) {\n                _vm.isShowSys = !_vm.isShowSys\n              }\n            }\n          },\n          [_vm._m(0)]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.isShowSys,\n                expression: \"isShowSys\"\n              }\n            ],\n            staticClass: \"fram-rgiht ml20 f14\"\n          },\n          [\n            _c(\"div\", { staticClass: \"fram-head\" }, [\n              _c(\"div\", [\n                _c(\n                  \"span\",\n                  {\n                    staticClass: \"cp\",\n                    on: {\n                      click: function($event) {\n                        _vm.isShowSys = false\n                      }\n                    }\n                  },\n                  [_c(\"i\", { staticClass: \"el-icon-arrow-left\" })]\n                ),\n                _vm._v(\" 系统设置\")\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"fram-right-content p10\" }, [\n              _c(\"h2\", [_vm._v(\"系统消息\")]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"f-r-scroll scroll-style pl10\" },\n                _vm._l(_vm.sysMessages, function(list) {\n                  return _c(\"div\", [_vm._v(_vm._s(list))])\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\"h2\", [_vm._v(\"设置快捷键\")]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"p10 chat-checkbox\" },\n                [\n                  _c(\n                    \"el-checkbox\",\n                    {\n                      model: {\n                        value: _vm.isUseEnterSend,\n                        callback: function($$v) {\n                          _vm.isUseEnterSend = $$v\n                        },\n                        expression: \"isUseEnterSend\"\n                      }\n                    },\n                    [_vm._v(\"使用enter发送\")]\n                  )\n                ],\n                1\n              )\n            ])\n          ]\n        )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"span\",\n      {\n        staticClass: \"f14 p10 cp\",\n        staticStyle: { display: \"block\", width: \"14px\" }\n      },\n      [_vm._v(\"系统设置\"), _c(\"i\", { staticClass: \"el-icon-arrow-down\" })]\n    )\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=template&id=7311f14d&\""],"sourceRoot":""}