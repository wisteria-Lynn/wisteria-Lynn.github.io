{"version":3,"sources":["webpack:///./src/pages/wechat/chatPage.vue","webpack:///./src/pages/wechat/chatPage.vue?600e","webpack:///src/pages/wechat/chatPage.vue","webpack:///./src/pages/wechat/chatPage.vue?937a","webpack:///./src/pages/wechat/chatPage.vue?a45b","webpack:///./src/pages/wechat/chatPage.vue?697e"],"names":["__webpack_require__","r","__webpack_exports__","_chatPage_vue_vue_type_template_id_282675fc_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_chatPage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_node_modules_babel_loader_lib_index_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chatPage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chatPage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","name","data","chatLoginName","sessionStorage","getItem","chatDetail","username","type","readay","message","computed","chatArr","this","$store","state","MESSAGE","created","JSON","parse","$route","query","info","dispatch","methods","send","_this","window","WebSocket","result","userList","filter","val","index","arr","length","sendName","reciveName","WS","ws","stringify","layer","msg","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_node_modules_sass_resources_loader_lib_loader_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_chatPage_vue_vue_type_style_index_0_id_282675fc_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","url","position","_v","_s","ref","id","_l","item","mess","staticStyle","padding","placeholder","nativeOn","keyup","$event","_k","keyCode","model","value","callback","$$v","expression","on","click","staticRenderFns","_withStripped"],"mappings":"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","file":"js/29.94bbf476b235be5b29ad.js","sourcesContent":["import { render, staticRenderFns } from \"./chatPage.vue?vue&type=template&id=282675fc&scoped=true&\"\nimport script from \"./chatPage.vue?vue&type=script&lang=js&\"\nexport * from \"./chatPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatPage.vue?vue&type=style&index=0&id=282675fc&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"282675fc\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Lynn\\\\myproject\\\\wisteria-Lynn.github.io\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('282675fc', component.options)\n    } else {\n      api.reload('282675fc', component.options)\n    }\n    module.hot.accept(\"./chatPage.vue?vue&type=template&id=282675fc&scoped=true&\", function () {\n      api.rerender('282675fc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/wechat/chatPage.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatPage.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"x-chatPage\">\n\t\t<v-head-back-2 url=\"/wechat/friendList\" position=\"fixed\">\n\t\t\t<span>{{chatDetail.username}}</span>\n\t\t</v-head-back-2>\n\t\t<div class=\"fram-content\">\n\t\t\t<div class=\"m-p-scroll scroll-style\" ref=\"bottomScroll\" id=\"bottomScroll\">\n\t\t\t\t<div class=\"message-panel\">\n\t\t\t\t\t<div class=\"m-p-wrap\" v-for=\"item in chatArr\">\n\t\t\t\t\t\t<div v-if=\"item.name === chatLoginName\" class=\"tr\">\n\t\t\t\t\t\t\t<div class=\"m-p-name-1\">{{item.name}}</div>\n\t\t\t\t\t\t\t<span class=\"m-p-text-1 right\">{{item.mess}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else class=\"tl\">\n\t\t\t\t\t\t\t<div class=\"m-p-name-2\">{{item.name}}</div>\n\t\t\t\t\t\t\t<span class=\"m-p-text-2\">{{item.mess}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<!--聊天输入框-->\n\t\t<div class=\"fram-input\">\n\t\t\t<div style=\"padding:0 2px;\">\n\t\t\t\t<el-input\n\t\t\t\t\t@keyup.enter.native=\"send\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"请输入内容\"\n\t\t\t\t\tv-model=\"message\">\n\t\t\t\t</el-input>\n\t\t\t\t<el-button @click=\"send\">发送</el-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n    export default {\n        name: \"chatPage\",\n\t\tdata(){\n        \treturn {\n\t\t\t\tchatLoginName:sessionStorage.getItem('chatLoginName'),\n\t\t\t\tchatDetail:{ // 聊天对象信息\n\t\t\t\t\tusername: '',// 对象名字\n\t\t\t\t\ttype:'', // 和该对象的关系，0已发送加好友信息，1等待好友验证，2已是好友关系\n\t\t\t\t\treaday:''// 是否在线\n\t\t\t\t}, // 对方详情\n\t\t\t\tmessage: '', // 发送的消息\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n        \tchatArr(){\n        \t\treturn this.$store.state.MESSAGE.chatArr\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\t// 聊天对象信息\n\t\t\tthis.chatDetail = JSON.parse(this.$route.query.info)\n\t\t\tthis.$store.dispatch('chatArr',this.chatDetail.username)\n\t\t},\n\t\tmethods:{\n\t\t\tsend() {\n\t\t\t\tif (!window.WebSocket) {\n\t\t\t\t\tthis.layer.msg('服务器关闭，请退出重新登录')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (this.chatDetail.username === '') {\n\t\t\t\t\tthis.layer.msg('请选择聊天对象')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif ( this.message === '') {\n\t\t\t\t\tthis.layer.msg('消息不能为空')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet result = this.$store.state.MESSAGE.userList.filter((val, index, arr) => {\n\t\t\t\t\treturn val.username === this.chatDetail.username\n\t\t\t\t})\n\t\t\t\tlet readay = result.length === 0 ? false : result[0].readay\n\t\t\t\tif (!readay) {\n\t\t\t\t\tthis.layer.msg('该好友不在线，不能聊天哦')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet message = {\n\t\t\t\t\ttype: 'message', // 消息类型\n\t\t\t\t\tsendName: this.chatLoginName,// 发送方昵称\n\t\t\t\t\treciveName: this.chatDetail.username,// 接收方昵称\n\t\t\t\t\tmessage: this.message // 消息\n\t\t\t\t}\n\t\t\t\tthis.WS.ws.send(JSON.stringify(message))\n\t\t\t\tthis.message = ''\n\t\t\t}\n\t\t}\n    }\n</script>\n\n<style scoped lang=\"less\">\n\t.el-input{\n\t\twidth:80%;\n\t}\n\t.el-button{\n\t\twidth:18%;\n\t\tpadding:12px 0;\n\t}\n\t.fram-content {\n\t\tmargin-top:60px;\n\t\theight:calc(100% - 100px);\n\t\tposition: absolute;\n\t\t/*top: 60px;*/\n\t\t/*bottom: 180px;*/\n\t\t/*height: calc(100% - 60px - 160px);*/\n\t\twidth: 100%;\n\t\tz-index: 33;\n\n\t\t.m-p-scroll {\n\t\t\toverflow: auto;\n\t\t\theight: calc(100% - 16px);\n\t\t\tmargin: 8px 0;\n\t\t}\n\n\t\t.m-p-wrap {\n\t\t\tmargin: 0 2px;\n\t\t\tpadding: 5px;\n\t\t\t.m-p-text-1,.m-p-text-2{\n\t\t\t\tposition:relative;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tborder: 1px solid #67C23A;\n\t\t\t\tpadding: 5px;\n\t\t\t\tmargin-top:5px;\n\t\t\t\tborder-radius: 5px;\n\t\t\t\tbackground:#67C23A;\n\t\t\t}\n\t\t\t.m-p-text-1,.m-p-text-2{\n\t\t\t\t&:after,&:before{\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tborder-left:6px solid transparent;\n\t\t\t\t\tborder-right:6px solid transparent;\n\t\t\t\t\tborder-top:6px solid transparent;\n\t\t\t\t}\n\t\t\t\t&:after {\n\t\t\t\t\ttop:-11px;\n\t\t\t\t\tborder-bottom:6px solid #67C23A;\n\t\t\t\t}\n\t\t\t\t//&:before {\n\t\t\t\t//\ttop:-15px;\n\t\t\t\t//\tborder-bottom:8px solid #67C23A;\n\t\t\t\t//\tz-index:99;\n\t\t\t\t//}\n\t\t\t}\n\t\t\t.m-p-text-1 {\n\t\t\t\t&:after{\n\t\t\t\t\tright:5.1px;\n\t\t\t\t}\n\t\t\t\t//&:before{\n\t\t\t\t//\tright:5px;\n\t\t\t\t//}\n\t\t\t}\n\t\t\t.m-p-text-2 {\n\t\t\t\t&:after{\n\t\t\t\t\tleft:5.1px;\n\t\t\t\t}\n\t\t\t\t//&:before{\n\t\t\t\t//\tleft:5px;\n\t\t\t\t//}\n\t\t\t}\n\t\t}\n\t}\n\t.fram-input{\n\t\tposition:fixed;\n\t\tbottom:0;\n\t\twidth:100%;\n\t\theight:40px;\n\t\tbackground:#fff;\n\t}\n</style>\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/sass-resources-loader/lib/loader.js??ref--3-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatPage.vue?vue&type=style&index=0&id=282675fc&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/sass-resources-loader/lib/loader.js??ref--3-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatPage.vue?vue&type=style&index=0&id=282675fc&scoped=true&lang=less&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"x-chatPage\" },\n    [\n      _c(\n        \"v-head-back-2\",\n        { attrs: { url: \"/wechat/friendList\", position: \"fixed\" } },\n        [_c(\"span\", [_vm._v(_vm._s(_vm.chatDetail.username))])]\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"fram-content\" }, [\n        _c(\n          \"div\",\n          {\n            ref: \"bottomScroll\",\n            staticClass: \"m-p-scroll scroll-style\",\n            attrs: { id: \"bottomScroll\" }\n          },\n          [\n            _c(\n              \"div\",\n              { staticClass: \"message-panel\" },\n              _vm._l(_vm.chatArr, function(item) {\n                return _c(\"div\", { staticClass: \"m-p-wrap\" }, [\n                  item.name === _vm.chatLoginName\n                    ? _c(\"div\", { staticClass: \"tr\" }, [\n                        _c(\"div\", { staticClass: \"m-p-name-1\" }, [\n                          _vm._v(_vm._s(item.name))\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"span\", { staticClass: \"m-p-text-1 right\" }, [\n                          _vm._v(_vm._s(item.mess))\n                        ])\n                      ])\n                    : _c(\"div\", { staticClass: \"tl\" }, [\n                        _c(\"div\", { staticClass: \"m-p-name-2\" }, [\n                          _vm._v(_vm._s(item.name))\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"span\", { staticClass: \"m-p-text-2\" }, [\n                          _vm._v(_vm._s(item.mess))\n                        ])\n                      ])\n                ])\n              }),\n              0\n            )\n          ]\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"fram-input\" }, [\n        _c(\n          \"div\",\n          { staticStyle: { padding: \"0 2px\" } },\n          [\n            _c(\"el-input\", {\n              attrs: { type: \"text\", placeholder: \"请输入内容\" },\n              nativeOn: {\n                keyup: function($event) {\n                  if (\n                    !(\"button\" in $event) &&\n                    _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                  ) {\n                    return null\n                  }\n                  return _vm.send($event)\n                }\n              },\n              model: {\n                value: _vm.message,\n                callback: function($$v) {\n                  _vm.message = $$v\n                },\n                expression: \"message\"\n              }\n            }),\n            _vm._v(\" \"),\n            _c(\"el-button\", { on: { click: _vm.send } }, [_vm._v(\"发送\")])\n          ],\n          1\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chatPage.vue?vue&type=template&id=282675fc&scoped=true&\""],"sourceRoot":""}